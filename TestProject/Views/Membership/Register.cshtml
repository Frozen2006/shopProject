@model TestProject.Models.RegisterModel

@section Scripts {
    @Scripts.Render("~/Content/jquery-ui-1.10.3.custom.min.js")
    @Styles.Render("~/Content/jquery-ui-1.10.3.custom.min.css")
}

@{
    ViewBag.Title = "Register";
}

<h2>Register</h2>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true)
    <ol>
        <li>
            @Html.LabelFor(m => m.Email)
            @Html.TextBoxFor(m => m.Email)
            @Html.ValidationMessageFor(m => m.Email)
        </li>
        <li>
            @Html.LabelFor(m => m.Password)
            @Html.PasswordFor(m => m.Password)
            @Html.ValidationMessageFor(m => m.Password)
        </li>
        <li>
            @Html.LabelFor(m => m.ConfirmPassword)
            @Html.PasswordFor(m => m.ConfirmPassword)
            @Html.ValidationMessageFor(m => m.ConfirmPassword)
        </li>
        <li>
            @Html.LabelFor(m => m.Title)
            @Html.TextBoxFor(m => m.Title)
            @Html.ValidationMessageFor(m => m.Title)
        </li>
        <li>
            @Html.LabelFor(m => m.firstName)
            @Html.TextBoxFor(m => m.firstName)
            @Html.ValidationMessageFor(m => m.firstName)
        </li>
        <li>
            @Html.LabelFor(m => m.lastName)
            @Html.TextBoxFor(m => m.lastName)
            @Html.ValidationMessageFor(m => m.lastName)
        </li>
        <li>
            @Html.LabelFor(m => m.Address1)
            @Html.TextBoxFor(m => m.Address1)
            @Html.ValidationMessageFor(m => m.Address1)
        </li>
        <li>
            @Html.LabelFor(m => m.Address2)
            @Html.TextBoxFor(m => m.Address2)
            @Html.ValidationMessageFor(m => m.Address2)
        </li>
        <li>
            @Html.LabelFor(m => m.Phone1)
            @Html.TextBoxFor(m => m.Phone1)
            @Html.ValidationMessageFor(m => m.Phone1)
        </li>
        <li>
            @Html.LabelFor(m => m.Phone2)
            @Html.TextBoxFor(m => m.Phone2)
            @Html.ValidationMessageFor(m => m.Phone2)
        </li>
        <li>
            @Html.LabelFor(m => m.Zip)
            @Html.TextBoxFor(m => m.Zip)
            @Html.ValidationMessageFor(m => m.Zip)
        </li>
        <li>
            @Html.LabelFor(m => m.City)
            @Html.TextBoxFor(m => m.City)
            @Html.ValidationMessageFor(m => m.City)
        </li>
    </ol>
    
    <input type="submit" value="Register"/>
}

<script>
    $(function () {
        

        $("#Zip").autocomplete( {
            source: function (request, response) {
                $.ajax
                ({
                    url: "/Membership/RegisterRow",
                    data: "{ 'term': '" + request.term + "' }",
                    dataType: "json",
                    type: "POST",
                    contentType: "application/json; charset=utf-8",
                    success: function (data) {
                        response(data);
                    },
                    error: function (XMLHttpRequest, textStatus, errorThrown) {
                        alert(textStatus);
                    }
                });
            },
            minLength: 2,
            delay: 150,
            select: function(event, ui) {
                var item = ui.item;

                document.getElementById("City").value = item.city;
            }
        });

    });



</script>